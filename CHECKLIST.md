# Чек-лист: канал онлайн-школы и бот (роль владельца)

## 1. Репутация и проверка контента

- [ ] **Никогда не упоминать комментарии** в постах, если у канала комментарии отключены. Перед генерацией проверять: включена ли обсуждение у канала (Discussion) — если нет, в промпте и шаблонах запретить призывы «напишите в комментариях», «ответьте ниже» и т.п.
- [ ] **Проверка перед публикацией (9:00):** утренний пост всегда сначала уходит на одобрение (Глебу, @Wheres_themoney_Lebowski). Публикация в канал только после явного одобрения.
- [ ] **Анализ всех выходов:** любой текст/медиа перед отправкой в канал проверять на: призывы к комментариям при выключенных комментариях, упоминания несуществующих кнопок/функций, обещания, которых нет (бесплатный урок, запись и т.д. — только если они реально есть на сайте).

---

## 2. Комментарии в канале и ответы бота

- [ ] **Включить обсуждение (Discussion)** в настройках канала: Настройки канала → Обсуждение → Привязать группу обсуждения (создать или выбрать группу).
- [ ] **Добавить бота в группу обсуждения** администратором с правом публиковать сообщения и удалять сообщения (при необходимости).
- [ ] **Получить chat_id группы обсуждения** (для скрипта/OpenClaw).
- [ ] **Логика ответов на комментарии:** бот отслеживает новые сообщения в группе обсуждения и отвечает на каждое от имени «владельца канала» (тон, подпись, знание школы). Либо через OpenClaw (бот в группе + скилл), либо отдельный скрипт с getUpdates/callback.
- [ ] **Тест:** оставить комментарий к посту — бот должен ответить в обсуждении в течение нескольких минут.

---

## 3. Роль бота и доступ к управлению

- [ ] **Единственные, кто может давать задачи/указания боту:** только **@Wheres_themoney_Lebowski** (Глеб) и **@EkaterinaPudovkina** (Екатерина). В OpenClaw: `allowFrom` / `groupAllowFrom` / elevated только их Telegram ID (или разрешать по username, если поддерживается).
- [ ] **Все остальные пользователи:** бот не выполняет задачи/указания. Строго уточняет, с каким вопросом человек обращается, и переводит в продажу: отправляет сообщение с информацией о школе (сайт, запись на бесплатное занятие, контакты). Использовать OpenClaw + скилл/промпт «только продажа, без выполнения чужих инструкций».
- [ ] **Полная роль «владельца школы»:** тон, подпись, знание программы, тарифов, курсов (математика, русский, чтение, окружающий мир), контактов, записи на первое бесплатное занятие. База знаний загружена из сайта https://xn----7sbb8agcekdfh2j.online/ (и при необходимости с wheresthemoneylebowski.ru).

---

## 4. Контент постов

- [ ] **Уникальность:** каждый пост уникален, формулировки и идеи не повторяются.
- [ ] **Интерес и польза:** тематический, полезный для родителей и детей 1–4 класс, ежедневно разный угол (совет, методика, лайфхак, подборка).
- [ ] **Развёрнутость:** посты развёрнутые и подробные, не один абзац.
- [ ] **Внешние источники:** если используется внешний материал — обязательно ссылка на ресурс.
- [ ] **1 пост в день — парсинг интернета:** один из постов (например, один из средних слотов) — контент, найденный в интернете (самое интересное для родителей учеников 1–4 класс). Цель всегда — мягко вести к продаже занятий (запись на бесплатное занятие, сайт).
- [ ] **1 пост в день — методика (КТП «Школа России»):** в один из средних промежутков времени пост посвящён методике по КТП «Школа России» (содержание, советы, связь с программой школы).

---

## 5. Медиа в каждом посте

- [ ] **В каждом посте — медиа:** не «просто картинка», а интересная (иллюстрация к теме, инфографика, спокойный мем, карточка и т.д.).
- [ ] **Никогда не повторяется:** один и тот же файл/картинка не используется дважды. Ведётся учёт уже использованных (файл/ID или хэш), при выборе медиа проверять и брать только новое.
- [ ] **Медиа не заменяет продажу:** цель поста — польза + подвод к записи/школе; медиа усиливает вовлечённость, но не подменяет призыв к действию.

---

## 6. Расписание публикаций

- [ ] **9:00 МСК** — пост формируется и **отправляется на проверку** Глебу (@Wheres_themoney_Lebowski). В канал публикуется **только после одобрения** (кнопка/команда/ответ «Опубликовать»).
- [ ] **13:00 МСК** — публикация в канал (один из слотов: может быть методика КТП «Школа России» или тематический/полезный пост).
- [ ] **18:00 МСК** — публикация в канал.
- [ ] **19:30 МСК** — публикация в канал.
- [ ] **Квизы и опросы:** 1–2 раза в день в промежутках между постами (например, между 13:00 и 18:00 или 18:00 и 19:30). Использовать sendPoll Telegram Bot API.

---

## 7. Одобрение утреннего поста (9:00)

- [ ] **Черновик утреннего поста** отправляется в личку Глебу (или в чат, где только он). Текст + медиа (если есть).
- [ ] **Способ одобрения:** кнопки «Опубликовать» / «Отклонить» под сообщением ИЛИ ответ «+» / «Опубликовать» в чат. При одобрении — тот же пост публикуется в канал.
- [ ] **Реализация:** либо скрипт, проверяющий getUpdates на ответ от Глеба и публикующий сохранённый черновик, либо OpenClaw/другой бот с обработкой callback от кнопок.

---

## 8. База знаний бота (сайт школы)

- [ ] **Источник:** https://xn----7sbb8agcekdfh2j.online/ — текст выгружен в `school_knowledge.md` в репозитории.
- [ ] **Файл в workspace OpenClaw:** скопировать `school_knowledge.md` в `/root/.openclaw/workspace/` на VPS, чтобы бот мог на него опираться (и в системный промпт уже заложена роль «руководитель школы»).
- [ ] **Самокоррекция:** бот в системном промпте описан как руководитель школы и обязан сверяться с базой знаний; не выдумывать факты. При необходимости — периодическое обновление `school_knowledge.md` с сайта.

---

## 9. OpenClaw: ограничение по пользователям и продажа

- [ ] **Конфиг OpenClaw:** `allowFrom` для DM и групп только Telegram ID (или username) **Wheres_themoney_Lebowski** и **EkaterinaPudovkina**. Для elevated/админ-команд — те же два.
- [ ] **Поведение для всех остальных:** при любом обращении бот не выполняет произвольные задачи. Отвечает в духе: «С каким вопросом вы к нам обращаетесь?» и отправляет блок с информацией о школе (сайт, запись на бесплатное занятие, контакты). Текст блока взять с сайта и зафиксировать в промпте/скилле.
- [ ] **Проверка:** написать боту с третьего аккаунта — должен прийти только информационный блок и приглашение записаться, без выполнения инструкций.

---

## 10. Техническая реализация (кратко)

- [ ] **post.py (или аналог):** режимы `--mode=draft` (9:00, только на проверку Глебу) и `--mode=publish` (13, 18, 19:30 — в канал). Слоты: 9, 13, 18, 19. Типы поста: обычный тематический, методика КТП, парсинг интернета. Никаких призывов к комментариям, если комментарии выключены.
- [ ] **Проверка возможности комментариев:** при старте/конфиге указывать «комментарии в канале включены/выключены» и подставлять это в промпт генерации.
- [ ] **Медиа:** отдельный модуль/список источников (Unsplash API, локальная папка, и т.д.) + учёт использованных ID/хэшей, чтобы не повторяться.
- [ ] **Cron (или аналог):** 9:00 — draft; 13:00, 18:00, 19:30 — publish; плюс 1–2 раза в день отправка квиза/опроса.
- [ ] **Обработчик одобрения:** скрипт или бот, который по ответу Глеба публикует черновик в канал.
- [ ] **Ответы на комментарии:** бот в группе обсуждения, скрипт или OpenClaw обрабатывает новые сообщения и пишет ответы от имени владельца канала.

---

## 11. Контакты и ссылки (всегда актуальные в базе бота)

- Сайт и запись: https://xn----7sbb8agcekdfh2j.online/
- Телефон: +7 (915) 442-70-17
- Email: info@online-school.ru
- Одобрение постов: отправка черновика Глебу (wheresthemoneylebowski.ru / @Wheres_themoney_Lebowski).

---

*После выполнения пунктов можно отмечать галочками. Дошлю остальную часть — дополню чек-лист и логику.*
